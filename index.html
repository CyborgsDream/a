<!--
@project: a — alpha workspace (Metrix multi-app hub)
@version: v0.1.0
@date: 2025-11-04 (Europe/Warsaw)
@blurb: Static HTML5 hub listing mini-apps via projects.json. Shared code via /shared/vX import maps. No server-side code.
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>a — alpha workspace</title>
<style>
:root{
  --bg:#02050a;
  --fg:#b4f4c9;
  --muted:#4ca86b;
  --accent:#1ff042;
  --accent-alt:#f4f000;
  --scanline:rgba(0,32,16,.2);
  --panel:#021b0f;
  --border:#0d4d2a;
  --shadow:#00000099;
  --radius:12px;
  --font:"IBM Plex Mono","Fira Mono","Courier New",monospace;
}
html,body{margin:0;background:var(--bg);color:var(--fg);font:15px/1.4 var(--font);text-transform:none}
body{min-height:100vh;display:flex;flex-direction:column;background-image:radial-gradient(circle at 10% 10%,rgba(0,64,32,.4),transparent 60%),radial-gradient(circle at 90% 20%,rgba(0,48,64,.35),transparent 65%),repeating-linear-gradient(0deg,var(--scanline) 0 2px,transparent 2px 4px)}
*{box-sizing:border-box}
header{padding:18px 16px 10px;max-width:980px;margin:0 auto 8px;border:1px solid var(--border);background:var(--panel);box-shadow:0 14px 32px var(--shadow);border-radius:var(--radius);position:relative;overflow:hidden}
header::after{content:"READY.";position:absolute;top:10px;right:14px;color:var(--accent-alt);font-size:12px;letter-spacing:.2em;opacity:.65}
h1{margin:0;font-size:26px;letter-spacing:.15em;text-transform:uppercase;color:var(--accent);display:flex;align-items:center;gap:10px}
h1 span{display:inline-block;padding:2px 8px;background:linear-gradient(90deg,#f5f402,#ff7800,#ff0066,#003cff);color:#001d0f;border-radius:4px;font-size:14px;letter-spacing:.2em}
.sub{color:var(--muted);max-width:640px;margin-top:6px;font-size:13px;text-transform:none}
.menu{display:flex;flex-wrap:wrap;gap:6px;margin:14px 0 0;padding:0;list-style:none}
.menu__item{appearance:none;border:1px solid var(--border);padding:6px 12px;border-radius:6px;background:rgba(0,24,12,.85);color:var(--muted);font-size:12px;letter-spacing:.12em;text-transform:uppercase;cursor:pointer;transition:background .2s ease,color .2s ease}
.menu__item:hover{background:rgba(0,36,18,.95);color:var(--fg)}
.menu__item.is-active{background:var(--accent);color:#00210d;border-color:var(--accent-alt)}
.search{margin-top:14px}
.search input{width:100%;padding:12px 12px 10px;border-radius:6px;border:1px solid var(--border);background:rgba(0,16,8,.85);color:var(--fg);font:14px/1.4 var(--font);letter-spacing:.08em;text-transform:uppercase;outline:none}
.search input:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(31,240,66,.25)}
main{flex:1;max-width:980px;margin:0 auto 24px;padding:0 16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 10px 24px var(--shadow);padding:14px 14px 16px;display:flex;flex-direction:column;gap:8px;position:relative}
.card::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(180deg,rgba(31,240,66,.08) 0 2px,transparent 2px 4px);opacity:.25;pointer-events:none}
.card strong{font-size:15px;letter-spacing:.1em;text-transform:uppercase;color:var(--accent)}
.card .badge{align-self:flex-start;font-size:11px;padding:2px 6px;border:1px solid var(--accent-alt);color:var(--accent-alt);border-radius:4px;background:rgba(0,0,0,.35);letter-spacing:.18em;text-transform:uppercase}
.card .description{font-size:13px;color:var(--fg);min-height:38px}
.row{display:flex;gap:8px;align-items:flex-start;justify-content:space-between}
.card dl{margin:0;padding:0;font-size:11px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);display:grid;grid-template-columns:minmax(0,1fr);row-gap:4px}
.card dl div{display:flex;justify-content:space-between;gap:8px}
.card dl dt{color:var(--accent-alt)}
.card dl dd{margin:0;color:var(--fg);text-transform:none;font-size:12px;letter-spacing:0}
.card .tags{display:flex;flex-wrap:wrap;gap:4px}
.card .tag{font-size:10px;padding:2px 6px;border-radius:4px;background:rgba(0,32,16,.85);color:var(--accent);letter-spacing:.12em;text-transform:uppercase}
.btn{appearance:none;border:1px solid var(--accent);background:rgba(0,24,12,.9);color:var(--accent);padding:8px 10px;border-radius:6px;text-decoration:none;font-size:12px;letter-spacing:.2em;text-transform:uppercase;text-align:center;transition:background .2s ease,color .2s ease}
.btn:hover{background:var(--accent);color:#001b0f}
.card--empty{align-items:center;text-align:center;color:var(--muted);font-size:13px;font-style:normal;text-transform:uppercase}
footer{max-width:980px;margin:0 auto 24px;padding:12px 16px;border:1px solid var(--border);background:var(--panel);color:var(--muted);font-size:11px;letter-spacing:.16em;text-transform:uppercase;border-radius:var(--radius);box-shadow:0 12px 24px var(--shadow)}
@media (max-width:720px){
  header,footer{margin-inline:12px}
  main{padding:0 12px}
  h1{font-size:22px}
  .card{padding:12px}
}
</style>
</head>
<body>
<header>
  <h1>a <span>ALPHA</span></h1>
  <div class="sub">ONE REPO, MANY MINI-APPS. VERSIONED SHARED CODE AT <code>/shared/vX</code>. PURE HTML5.</div>
  <nav class="menu" id="status-menu" aria-label="Filter projects by status"></nav>
  <div class="search"><input id="q" placeholder="TYPE TO FILTER PROJECTS"></div>
</header>

<main id="grid"></main>

<footer>Version <strong>v0.1.0</strong>. To bump, edit the header block.</footer>

<script type="module">
const grid = document.querySelector('#grid');
const q = document.querySelector('#q');
const menu = document.querySelector('#status-menu');
let activeStatus = 'all';

async function getProjects(){
  try{
    const r = await fetch('projects.json', {cache:'no-store'});
    if(!r.ok) throw new Error(String(r.status));
    return await r.json();
  }catch(e){
    console.warn('projects.json unavailable; using empty list', e);
    return [];
  }
}

function render(items, needle='', status='all'){
  const n = (needle||'').trim().toLowerCase();
  const s = (status||'all').toLowerCase();
  grid.innerHTML='';
  for(const p of items){
    const hay = (p.title+' '+(p.tags||[]).join(' ')).toLowerCase();
    const itemStatus = (p.status||'unknown').toLowerCase();
    if(n && !hay.includes(n)) continue;
    if(s !== 'all' && itemStatus !== s) continue;
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML = `
      <div class="row">
        <strong>${p.title}</strong>
        <span class="badge">${(p.status||'wip').toUpperCase()}</span>
      </div>
      <div class="description">${p.description||'No description available.'}</div>
      <dl>
        <div><dt>PATH</dt><dd>${p.path||'—'}</dd></div>
        <div><dt>UPDATED</dt><dd>${p.updated||'—'}</dd></div>
        <div><dt>SHARED</dt><dd>${p.shared||'v1'}</dd></div>
      </dl>
      <div class="tags">${(p.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>
      <a class="btn" href="${p.path}" target="_blank" rel="noopener">OPEN PROGRAM</a>`;
    grid.appendChild(card);
  }
  if(!grid.children.length){
    const empty = document.createElement('div');
    empty.className='card card--empty';
    empty.innerHTML = 'No projects match yet — try another keyword or status.';
    grid.appendChild(empty);
  }
}

function buildMenu(items){
  if(!menu) return;
  const statuses = Array.from(new Set(items.map(p=>(p.status||'unknown').toLowerCase()))).sort();
  const options = ['all',...statuses];
  menu.innerHTML = options.map(status=>{
    const label = status==='all' ? 'All projects' : status.replace(/(^|\s)\w/g,ch=>ch.toUpperCase());
    const activeClass = status===activeStatus ? ' is-active' : '';
    return `<button class="menu__item${activeClass}" type="button" data-filter="${status}">${label}</button>`;
  }).join('');
  menu.querySelectorAll('.menu__item').forEach(btn=>{
    btn.addEventListener('click',()=>{
      activeStatus = btn.dataset.filter;
      menu.querySelectorAll('.menu__item').forEach(el=>el.classList.toggle('is-active',el===btn));
      render(items, q.value, activeStatus);
    });
  });
}

getProjects().then(items=>{
  buildMenu(items);
  render(items, '', activeStatus);
  q.addEventListener('input', e=>render(items, e.target.value, activeStatus));
});
</script>
</body>
</html>
